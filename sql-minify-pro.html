<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>SQL 专业版格式化 & 一行压缩工具</title>
<style>
    body { font-family: Arial, sans-serif; background: #f2f2f2; margin: 0; padding: 20px; }
    h2 { margin-bottom: 10px; }
    .container { max-width: 1200px; margin: auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
    textarea { width: 100%; height: 200px; font-size: 14px; padding: 10px; border-radius: 8px; border: 1px solid #ccc; }
    button { padding: 10px 18px; font-size: 15px; margin: 10px 5px 0 0; cursor: pointer; border: none; border-radius: 8px; background: #4A90E2; color: white; }
    button.copy { background: #00A86B; }
    .out { margin-top: 20px; }
</style>
</head>
<body>

<div class="container">
    <h2>SQL 专业版格式化 & 一行压缩工具</h2>

    <textarea id="input" placeholder="在这里输入 SQL..."></textarea>
    <br>

    <button onclick="minify()">压缩成一行</button>
    <button onclick="convertQuotes()">双引号 → 单引号</button>
    <button class="copy" onclick="copyOutput()">复制输出内容</button>

    <div class="out">
        <h3>输出结果：</h3>
        <textarea id="output" readonly></textarea>
    </div>
</div>

<script>
// 压缩成一行
function minify() {
    let sql = document.getElementById("input").value;

    sql = sql.replace(/--.*$/gm, "");
    sql = sql.replace(/\/\*[\s\S]*?\*\//g, "");
    sql = sql.replace(/\n+/g, " ");
    sql = sql.replace(/\s+/g, " ");

    document.getElementById("output").value = sql.trim();
}

// 双引号转单引号
function convertQuotes() {
let sql = document.getElementById("input").value;
sql = sql.replace(/\"/g, "'");
document.getElementById("output").value = sql;
}

// 复制输出
function copyOutput() {
    const text = document.getElementById("output");
    text.select();
    document.execCommand("copy");
    alert("已复制到剪贴板！");
}
</script>

</body>
</html>
